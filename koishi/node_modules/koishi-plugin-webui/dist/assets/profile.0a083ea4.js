import{defineComponent as w,ref as x,resolveComponent as n,openBlock as f,createElementBlock as y,Fragment as C,createVNode as s,withCtx as a,createElementVNode as l,toDisplayString as m,unref as e,createBlock as F,createCommentVNode as B,createTextVNode as E}from"../vue.js";import{config as o,user as r,send as V,sha256 as h}from"../client.js";const b=E("\u5E94\u7528\u66F4\u6539");var g=w({setup(A){const _=isSecureContext,t=x(o.value.password);async function d(){if(!t.value)return;const{id:i,token:u}=r.value;V("password",{id:i,token:u,password:await h(t.value)}),o.value.password=t.value}return(i,u)=>{const p=n("k-card"),v=n("k-input"),k=n("k-button");return f(),y(C,null,[s(p,{title:"\u57FA\u672C\u8D44\u6599"},{default:a(()=>[l("p",null,"\u7528\u6237\u540D\uFF1A"+m(e(r).name),1),l("p",null,"\u6743\u9650\u7B49\u7EA7\uFF1A"+m(e(r).authority),1)]),_:1}),e(_)?(f(),F(p,{key:0,title:"\u8BBE\u7F6E\u5BC6\u7801"},{default:a(()=>[s(v,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=c=>t.value=c),onEnter:d,type:e(o).showPass?"text":"password",suffix:e(o).showPass?"eye":"eye-slash",onClickSuffix:u[1]||(u[1]=c=>e(o).showPass=!e(o).showPass)},null,8,["modelValue","type","suffix"]),l("p",null,[s(k,{type:"danger",solid:"",disabled:!t.value,onClick:d},{default:a(()=>[b]),_:1},8,["disabled"])])]),_:1})):B("v-if",!0)],64)}}});export{g as default};
