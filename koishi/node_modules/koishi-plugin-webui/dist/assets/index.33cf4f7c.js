import{defineComponent as v,ref as E,resolveComponent as s,openBlock as a,createElementBlock as g,createElementVNode as n,normalizeClass as p,createTextVNode as d,toDisplayString as h,createBlock as l,withCtx as o,createCommentVNode as m,createVNode as D,withDirectives as z,Fragment as _,renderList as y,vShow as B,unref as b}from"../vue.js";import{user as C,send as $,registry as N}from"../client.js";const V={class:"plugin-view"},j={class:"plugin-item"},A=d("\u7F51\u9875\u6269\u5C55"),S=d("\u526F\u4F5C\u7528"),T={class:"complexity"},q={class:"operation"},L={class:"plugin-list"};var k=v({props:{data:{type:null,required:!0}},setup(e){const u=E(!1);function f(r){const{id:t,token:i}=C.value;$("switch",{plugin:r,id:t,token:i})}return(r,t)=>{const i=s("k-badge"),x=s("k-button"),w=s("k-collapse");return a(),g("div",V,[n("div",j,[n("span",{class:p(["title",{"has-children":e.data.children.length}]),onClick:t[0]||(t[0]=c=>e.data.children.length&&(u.value=!u.value))},[n("i",{class:p(["fas fa-angle-right",{show:u.value}])},null,2),d(" "+h(e.data.name)+" ",1),e.data.webExtension?(a(),l(i,{key:0,type:"default",title:"\u62E5\u6709\u7F51\u9875\u6269\u5C55\u7684\u63D2\u4EF6\u505C\u7528\u548C\u542F\u7528\u540E\u5C06\u5237\u65B0\u9875\u9762\u3002"},{default:o(()=>[A]),_:1})):m("v-if",!0),e.data.sideEffect?(a(),l(i,{key:1,type:"warning",title:"\u62E5\u6709\u526F\u4F5C\u7528\u7684\u63D2\u4EF6\u65E0\u6CD5\u88AB\u505C\u7528\u3002"},{default:o(()=>[S]),_:1})):m("v-if",!0)],2),n("span",T,h(e.data.complexity||"-"),1),n("span",q,[D(x,{class:"right",frameless:"",type:e.data.name==="webui"?"danger":"",disabled:e.data.sideEffect,onClick:t[1]||(t[1]=c=>f(e.data.id))},{default:o(()=>[d(h(e.data.complexity?"\u505C\u7528":"\u542F\u7528"),1)]),_:1},8,["type","disabled"])])]),e.data.children.length?(a(),l(w,{key:0},{default:o(()=>[z(n("div",L,[(a(!0),g(_,null,y(e.data.children,(c,F)=>(a(),l(k,{data:c,key:F},null,8,["data"]))),128))],512),[[B,u.value]])]),_:1})):m("v-if",!0)])}}}),K=`@charset "UTF-8";
:not(.has-children) > .fa-angle-right {
  font-size: 1.25rem !important;
}
:not(.has-children) > .fa-angle-right::before {
  content: "\u2022";
}
.fa-angle-right {
  margin-left: 0.75rem;
  margin-right: 0.5rem;
  transition: 0.3s ease;
  font-size: 1.25rem !important;
  width: 1.5rem;
  text-align: center;
  vertical-align: middle !important;
}
.fa-angle-right.show {
  transform: rotate(90deg);
}
.plugin-item {
  line-height: 1.6;
  user-select: none;
  padding: 0.5rem 0;
  border-bottom: #040620 1px solid;
}
.plugin-item .title {
  font-weight: bold;
}
.plugin-item .title.has-children {
  cursor: pointer;
}
.plugin-item.normal {
  color: #2477ff;
}
.plugin-item.side-effect {
  color: #F56C6C;
}
.plugin-item:hover {
  background-color: #474d8450;
}
.plugin-item .complexity {
  position: absolute;
  left: 45%;
  width: 10%;
  text-align: center;
}
.plugin-item .operation {
  float: right;
  margin-right: 3rem;
}
.plugin-view .plugin-list {
  padding-left: 2rem;
}`;const U=n("div",{class:"table-header plugin-item"},[n("span",{class:"title"},"\u63D2\u4EF6\u540D"),n("span",{class:"complexity"},"\u590D\u6742\u5EA6"),n("span",{class:"operation"},"\u64CD\u4F5C")],-1),G={class:"plugin-list root"};var H=v({setup(e){return(u,f)=>{var t;const r=s("k-card");return a(),l(r,{class:p(["page-plugins",{authorized:((t=b(C))==null?void 0:t.authority)>=4}]),title:"\u63D2\u4EF6\u5217\u8868"},{default:o(()=>[U,n("div",G,[(a(!0),g(_,null,y(b(N),i=>(a(),l(k,{data:i},null,8,["data"]))),256))])]),_:1},8,["class"])}}}),M=`.page-plugins header {
  color: rgba(244, 244, 245, 0.6);
}
.page-plugins header span {
  transition: 0.3s ease;
}
.page-plugins header span.inactive:hover {
  cursor: pointer;
  color: rgba(244, 244, 245, 0.8);
}
.page-plugins header span:not(.inactive) {
  color: #f4f4f5;
}
.table-header {
  font-weight: bold;
  border-top: #040620 1px solid;
}
.table-header .title {
  margin-left: 3rem;
}
.page-plugins:not(.authorized) .complexity, .page-plugins:not(.authorized) .operation {
  display: none;
}`;export{H as default};
